{"version":3,"sources":["react-native-scripts.js"],"names":["script","process","argv","args","slice","printDeprecationMessage","runExpoCli","console","log","exit","warn","bold","underline","stdio","on","code","rl","require","createInterface","input","stdin","output","stdout","question","answer","close","test","trim","error"],"mappings":";AACA;;;;;;AACA;;;;AACA;;;;;;AAEA,IAAMA,SAASC,QAAQC,IAAR,CAAa,CAAb,CAAf;AACA,IAAMC,OAAOF,QAAQC,IAAR,CAAaE,KAAb,CAAmB,CAAnB,CAAb;;AAEA,IAAIJ,WAAW,OAAX,IAAsBA,WAAW,OAArC,EAA8C;AAC5CK;AACAC,+BAAWN,MAAX,0CAAsBG,IAAtB;AACD,CAHD,MAGO,IAAIH,WAAW,SAAX,IAAwBA,WAAW,KAAvC,EAA8C;AACnDK;AACAC,+BAAW,OAAX,SAAyBN,MAAzB,0CAAsCG,IAAtC;AACD,CAHM,MAGA;AACLI,UAAQC,GAAR,wBACsBR,MADtB;AAGAC,UAAQQ,IAAR,CAAa,CAAb;AACD;;AAED,SAASJ,uBAAT,GAAmC;AACjCE,UAAQG,IAAR,CAAa,gBAAMC,IAAN,CAAW,6CAAX,CAAb;AACAJ,UAAQG,IAAR,CAAa,gBAAME,SAAN,CAAgB,2CAAhB,CAAb;AACAL,UAAQG,IAAR,CAAa,qCAAb;AACAH,UAAQG,IAAR,CACE,gBAAMC,IAAN,CAAW,wEAAX,CADF;AAGAJ,UAAQG,IAAR;AAUAH,UAAQG,IAAR,CAAa,gBAAMC,IAAN,CAAW,wDAAX,CAAb;AACAJ,UAAQG,IAAR,CACE,gBAAMC,IAAN,CAAW,6EAAX,CADF;AAGD;;AAED,SAASL,UAAT,GAA6B;AAAA,oCAANH,IAAM;AAANA,QAAM;AAAA;;AAC3B,4BAAM,UAAN,EAAkBA,IAAlB,EAAwB,EAAEU,OAAO,SAAT,EAAxB,EACGC,EADH,CACM,MADN,EACc,UAASC,IAAT,EAAe;AACzBd,YAAQQ,IAAR,CAAaM,IAAb;AACD,GAHH,EAIGD,EAJH,CAIM,OAJN,EAIe,YAAW;AACtBP,YAAQG,IAAR,CAAa,iCAAb;AACA,QAAIM,KAAKC,QAAQ,UAAR,EAAoBC,eAApB,CAAoC;AAC3CC,aAAOlB,QAAQmB,KAD4B;AAE3CC,cAAQpB,QAAQqB;AAF2B,KAApC,CAAT;AAIAN,OAAGO,QAAH,CAAY,4CAAZ,EAA0D,UAASC,MAAT,EAAiB;AACzER,SAAGS,KAAH;AACA,UAAI,MAAMC,IAAN,CAAWF,OAAOG,IAAP,EAAX,CAAJ,EAA+B;AAC7B1B,gBAAQQ,IAAR,CAAa,CAAb;AACD,OAFD,MAEO;AACLF,gBAAQC,GAAR,CAAY,sCAAZ;AACA,kCAAM,KAAN,EAAa,CAAC,SAAD,EAAY,UAAZ,EAAwB,YAAxB,EAAsC,OAAtC,EAA+C,iBAA/C,CAAb,EAAgF;AAC9EK,iBAAO,CAAC,SAAD,EAAY,QAAZ,EAAsB,SAAtB;AADuE,SAAhF,EAEGC,EAFH,CAEM,OAFN,EAEe,UAASC,IAAT,EAAe;AAC5B,cAAIA,SAAS,CAAb,EAAgB;AACdR,oBAAQqB,KAAR,CAAc,+DAAd;AACArB,oBAAQqB,KAAR,CAAc,iCAAd;AACA3B,oBAAQQ,IAAR,CAAaM,IAAb;AACD,WAJD,MAIO;AACLR,oBAAQC,GAAR,CAAY,iEAAZ;AACAF,wCAAcH,IAAd;AACD;AACF,SAXD;AAYD;AACF,KAnBD;AAoBD,GA9BH;AA+BD","file":"react-native-scripts.js","sourcesContent":["\n'use strict';\nimport spawn from 'cross-spawn';\nimport chalk from 'chalk';\n\nconst script = process.argv[2];\nconst args = process.argv.slice(3);\n\nif (script === 'start' || script === 'eject') {\n  printDeprecationMessage();\n  runExpoCli(script, ...args);\n} else if (script === 'android' || script === 'ios') {\n  printDeprecationMessage();\n  runExpoCli('start', `--${script}`, ...args);\n} else {\n  console.log(\n    `Invalid command '${script}'. Please check if you need to update react-native-scripts.`\n  );\n  process.exit(1);\n}\n\nfunction printDeprecationMessage() {\n  console.warn(chalk.bold('Note: react-native-scripts is deprecated.\\n'));\n  console.warn(chalk.underline('Upgrading your project to use Expo CLI:\\n'));\n  console.warn('Make these changes to package.json:');\n  console.warn(\n    chalk.bold(\"1) Replace 'react-native-scripts' with 'expo' in the 'scripts' config.\")\n  );\n  console.warn(\n    `   Example:\n    \"scripts\": {\n      \"start\": \"expo start\",\n      \"eject\": \"expo eject\",\n      \"android\": \"expo start --android\",\n      \"ios\": \"expo start --ios\",\n      \"test\": \"jest\"\n    }`\n  );\n  console.warn(chalk.bold('2) Remove react-native-scripts from devDependencies.\\n'));\n  console.warn(\n    chalk.bold(\"That's all! Expo CLI will install automatically when you run `npm start`.\\n\")\n  );\n}\n\nfunction runExpoCli(...args) {\n  spawn('expo-cli', args, { stdio: 'inherit' })\n    .on('exit', function(code) {\n      process.exit(code);\n    })\n    .on('error', function() {\n      console.warn('This command requires Expo CLI.');\n      var rl = require('readline').createInterface({\n        input: process.stdin,\n        output: process.stdout,\n      });\n      rl.question('Do you want to install it globally [Y/n]? ', function(answer) {\n        rl.close();\n        if (/^n/i.test(answer.trim())) {\n          process.exit(1);\n        } else {\n          console.log(\"Installing the package 'expo-cli'...\");\n          spawn('npm', ['install', '--global', '--loglevel', 'error', 'expo-cli@latest'], {\n            stdio: ['inherit', 'ignore', 'inherit'],\n          }).on('close', function(code) {\n            if (code !== 0) {\n              console.error('Installing Expo CLI failed. You can install it manually with:');\n              console.error('  npm install --global expo-cli');\n              process.exit(code);\n            } else {\n              console.log('Expo CLI installed. You can run `expo --help` for instructions.');\n              runExpoCli(...args);\n            }\n          });\n        }\n      });\n    });\n}\n"]}